errors:
  hourly_trade_limit:
    pattern: "hourly trade limit"
    category: "INTERNAL_LIMIT"
    korean_message: "시간당 주문 제한 도달"
    severity: "MEDIUM"
    suggested_fix: "N분 후 자동 재시도 / 긴급 시 우회 가능"
    retry_policy: "wait_period"
    action_code: PAUSE_TRADING
    retry_after_sec: 60
    max_retry: 3

  daily_trade_limit:
    pattern: "daily trade limit"
    category: "INTERNAL_LIMIT"
    korean_message: "일일 주문 제한 도달"
    severity: "MEDIUM"
    suggested_fix: "내일 자동 재설정 / 긴급 시 우회 가능"
    retry_policy: "wait_period"
    action_code: PAUSE_TRADING
    retry_after_sec: 60
    max_retry: 3

  rate_limit_429:
    pattern: "Too many requests|429"
    category: "EXCHANGE_RATE_LIMIT"
    korean_message: "거래소 요청 한도 초과"
    severity: "MEDIUM"
    suggested_fix: "자동 재시도 (지수 백오프)"
    retry_policy: "exponential_backoff"
    action_code: RETRY_WITH_BACKOFF
    retry_after_sec: 10
    max_retry: 5

  insufficient_balance:
    pattern: "Insufficient|margin not enough|130052"
    category: "BALANCE"
    korean_message: "잔고/마진 부족"
    severity: "HIGH"
    suggested_fix: "주문 수량 축소 또는 기존 포지션 정리 필요"
    retry_policy: "reduce_qty"
    action_code: REDUCE_SIZE
    retry_after_sec: 0
    max_retry: 1

  order_not_found:
    pattern: "Order not found|110001"
    category: "ORDER_STATE"
    korean_message: "주문을 찾을 수 없음"
    severity: "LOW"
    suggested_fix: "이미 체결/취소된 주문 — 무시 가능"
    retry_policy: "none"
    action_code: SKIP_AND_ALERT
    retry_after_sec: 0
    max_retry: 0

  position_mode_mismatch:
    pattern: "position mode|110025"
    category: "CONFIG"
    korean_message: "포지션 모드 불일치"
    severity: "HIGH"
    suggested_fix: "거래소 설정에서 단방향/양방향 모드 확인"
    retry_policy: "manual"
    action_code: ESCALATE_TO_CLAUDE
    retry_after_sec: 0
    max_retry: 0

  min_order_qty:
    pattern: "qty not valid|110017|min.*qty"
    category: "ORDER_PARAMS"
    korean_message: "최소 주문 수량 미달"
    severity: "MEDIUM"
    suggested_fix: "주문 수량을 최소 단위 이상으로 조정"
    retry_policy: "adjust_qty"
    action_code: REDUCE_SIZE
    retry_after_sec: 0
    max_retry: 1

  leverage_mismatch:
    pattern: "leverage|110043"
    category: "CONFIG"
    korean_message: "레버리지 설정 불일치"
    severity: "MEDIUM"
    suggested_fix: "레버리지 재설정 후 재시도"
    retry_policy: "reconfigure"
    action_code: RETRY_WITH_BACKOFF
    retry_after_sec: 5
    max_retry: 2

  api_key_invalid:
    pattern: "Invalid API|10003|api-key"
    category: "AUTH"
    korean_message: "API 키 인증 실패"
    severity: "CRITICAL"
    suggested_fix: "API 키 재발급 또는 IP 화이트리스트 확인"
    retry_policy: "manual"
    action_code: ESCALATE_TO_CLAUDE
    retry_after_sec: 0
    max_retry: 0

  network_error:
    pattern: "ConnectionError|Timeout|ETIMEDOUT"
    category: "NETWORK"
    korean_message: "네트워크 연결 오류"
    severity: "MEDIUM"
    suggested_fix: "자동 재시도 (3회까지)"
    retry_policy: "retry_3x"
    action_code: RETRY_WITH_BACKOFF
    retry_after_sec: 5
    max_retry: 3

  circuit_breaker:
    pattern: "circuit breaker"
    category: "INTERNAL_LIMIT"
    korean_message: "서킷 브레이커 발동 (단기 주문 폭주)"
    severity: "HIGH"
    suggested_fix: "5분 대기 후 자동 해제"
    retry_policy: "wait_period"
    action_code: PAUSE_TRADING
    retry_after_sec: 60
    max_retry: 3

  daily_loss_limit:
    pattern: "daily loss limit"
    category: "INTERNAL_LIMIT"
    korean_message: "일일 손실 한도 초과"
    severity: "CRITICAL"
    suggested_fix: "당일 매매 중단 — 수동 확인 필요"
    retry_policy: "manual"
    action_code: ESCALATE_TO_CLAUDE
    retry_after_sec: 0
    max_retry: 0

  qty_exceeds_max:
    code: 130006
    pattern: "qty exceeds max|maximum quantity"
    category: ORDER_PARAMS
    korean_message: "주문 수량이 최대 한도를 초과했습니다"
    severity: MEDIUM
    suggested_fix: "수량을 최대 허용량 이하로 줄이세요"
    retry_policy: reduce_qty
    action_code: REDUCE_SIZE
    retry_after_sec: 0
    max_retry: 1

  position_mode_mismatch_order:
    code: 130021
    pattern: "position mode|hedge mode|one-way"
    category: CONFIG
    korean_message: "포지션 모드 불일치 — 자동 보정 시도"
    severity: HIGH
    suggested_fix: "포지션 모드를 확인하고 재설정하세요"
    retry_policy: reconfigure
    action_code: RETRY_WITH_BACKOFF
    retry_after_sec: 5
    max_retry: 2

  leverage_limit_exceeded:
    code: 130074
    pattern: "leverage|max leverage"
    category: CONFIG
    korean_message: "레버리지 한도 초과 — 자동 조정 시도"
    severity: HIGH
    suggested_fix: "레버리지를 허용 범위로 조정하세요"
    retry_policy: reconfigure
    action_code: RETRY_WITH_BACKOFF
    retry_after_sec: 3
    max_retry: 2

  invalid_parameter:
    code: 10002
    pattern: "invalid param|invalid parameter"
    category: ORDER_PARAMS
    korean_message: "잘못된 파라미터 — 건너뜀"
    severity: MEDIUM
    suggested_fix: "주문 파라미터를 확인하세요"
    retry_policy: none
    action_code: SKIP_AND_ALERT
    retry_after_sec: 0
    max_retry: 0

  borrow_amount_exceeded:
    code: 170007
    pattern: "borrow|borrowing|margin borrow"
    category: BALANCE
    korean_message: "차입 한도 초과 — 수량 축소 필요"
    severity: HIGH
    suggested_fix: "차입 가능 금액 내로 수량을 줄이세요"
    retry_policy: reduce_qty
    action_code: REDUCE_SIZE
    retry_after_sec: 0
    max_retry: 1
